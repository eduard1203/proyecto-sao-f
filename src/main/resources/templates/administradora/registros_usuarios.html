<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="apple-touch-icon" sizes="76x76" href="IMG/logo.jpeg">
    <link rel="icon" type="image/jpeg" href="IMG/logo.jfif">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">

    <link href="../../../CSS/bootstrap.min.css" rel="stylesheet" />
    <link href="../../../CSS/paper-dashboard.css" rel="stylesheet" />

    <link rel="stylesheet" href="../../demo/demo.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- DATATABLES -->
    <link rel="stylesheet" href="../../../DATATABLES/datatables.min.css" type="text/css">
    <link rel="stylesheet" href="../../../DATATABLES/DataTables-1.11.4/css/dataTables.bootstrap.min.css" type="text/css">   


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<title>USUARIOS</title>
</head>
<body>

<div class="wrapper">
        <div class="sidebar" data-color="white" data-active-color="danger">
            <div class="logo">
                <a href="#" class="simple-text logo-mini">
                    <div class="logo-image-small">
                        <img src="../../IMG/logo.jpeg">
                    </div>
                </a>
            <a href="#" class="simple-text logo-normal">
                    DASHBOARD
                </a>
            </div>
            <div class="sidebar-wrapper">
                <ul class="nav">
                    <li class="active">
                        <a href="/administradora">
                            <p>INICIO</p>
                        </a>
                    </li>   
                <li class="nav">
                        <a href="/administradora">
                            <i class="fas fa-user"></i>
                            <p>MI PERFIL</p>
                        </a>
                    </li>
                    <li>
                        <a href="alquiler">
                            <p>ALQUILER</p>
                        </a>
                    </li>
                    <li>
                        <a href="ingresos">
                            <p>INGRESOS</p>
                        </a>
                    </li>
                    <li>
                        <a href="registro_vehiculos">
                            <p>REGISTROS DE VEHICULOS</p>
                        </a>
                    </li>
                    <li>
                        <a href="egresos">
                            <p>EGRESOS</p>
                        </a>
                    </li>

                    <li>
                        <a href="registros_usuarios">
                            <p>REGISTRO DE USUARIOS</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="main-panel">
            <nav class="navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent">
                <div class="container-fluid">
                    <div class="navbar-wrapper" >
                        <div class="navbar-toggle">
                            <button type="button" class="navbar-toggler">
                                <span class="navbar-toggler-bar bar1"></span>
                                <span class="navbar-toggler-bar bar2"></span>
                            <span class="navbar-toggler-bar bar3"></span>
                        </button>
                    </div>
                    <a class="navbar-brand" href="#">PERFIL</a>
                    <a class="navbar-brand" href="#">/ Administradora</a>
                </div>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" arial-label="Toggle navigation">
                    <span class="navbar-toggler-bar navbar-kebad"></span>
                    <span class="navbar-toggler-bar navbar-kebad"></span>
                    <span class="navbar-toggler-bar navbar-kebad"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navigation">
                    <form>
                        <div class="input-group no-border">
                            <input type="text" value="" class="form-control" placeholder="Buscar">
                            <div class="input-group-append">
                                <div class="input-group-text">
                                    <i class="fas fa-search"></i>
                                </div>
                            </div>
                        </div>
                    </form>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link btn-magnify" href="#">
                                <i class="far fa-bell"></i>
                                <p>
                                    <span class="d-lg-none d-md-bolck">Notificaciones</span>
                                </p>
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link btn-rotate" href="#">
                                <i class="far fa-user-circle"></i>
                                <p>
                                    <span class="d-lg-none d-md-block">Cuenta</span>
                                </p>
                            </a>
                        </li>
                        <li class="nav-item btn-rotate dropdown">
                            <a class="nav-link dropdown-toggle" href="https://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-door-open"></i>
                                <p>
                                    <span class="d-lg-none d-md-block">Cerrar Sesion</span>
                                </p>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                                <a class="dropdown-item" href="/Login">Salir</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
         </nav>
         <br>
         <br>
         <br>
         <br>
            <div class="row">
                <div class="col-md-12 ml-4">
                    
                    <div class="card bg-light">
                                <div class="table-responsive"> <br>
                                <a th:href="@{/newusuario}" class="btn btn-primary mt-2 ml-4">NUEVO</a>
                                    <h2 class="text-center">Usuarios Registrados</h2>
                                    <table id="example" class="table table-bordered display nowrap" cellspacing="0" width="100%" style="font: small-caps 100%/200% serif;">
                                
                                <thead>
                                <tr>
                                    <th>Doc_Usuarrio</th>
                                    <th>Tipo DOC</th>
                                    <th>Id_Rol</th>
                                    <th>Nombre</th>
                                    <th>Apellido</th>
                                    <th>Fecha Nac</th>       
                                    <th>Celular</th>
                                    <th>Correo</th>
                                    <th>Contrase√±a</th>
                                    <th>Ciudad</th>
                                    <th>Direccion</th>
                                    <th>Estado</th>
                                    <th>ACCIONES</th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr th:each="usuario:${usuarios}">
                                    <td th:text="${usuario.Doc_Usuario}"></td>
                                    <td th:text="${usuario.TipoDoc}"></td>
                                    <td th:text="${usuario.rol.Nom_Rol}"></td>
                                    <td th:text="${usuario.Nombres}"></td>
                                    <td th:text="${usuario.Apellidos}"></td>
                                    <td th:text="${usuario.FechaNacimiento}"></td>
                                    <td th:text="${usuario.celular}"></td>
                                    <td th:text="${usuario.Correo}"></td>
                                    <td th:text="${usuario.Contrasena}"></td>
                                    <td th:text="${usuario.Ciudad}"></td>
                                    <td th:text="${usuario.Direccion}"></td>
                                    <td th:text="${usuario.Estado}"></td>
                                    <td>
										<a th:href="@{/editarusuario/}+${usuario.Doc_Usuario}" class="btn btn-warning">Editar</a>
										
										 
										<button type="button" class="btn btn-danger"
													data-toggle="modal" data-target="#exampleModal"
													th:attr="data-target='#exampleModal'+${usuario.Doc_Usuario}"> Eliminar
													</button>
												</td>
											<!-- Modal -->
											<div class="modal fade"
												th:attr="id='exampleModal'+${usuario.Doc_Usuario}"
												tabindex="-1" aria-labelledby="exampleModalLabel"
												aria-hidden="true">
												<div class="modal-dialog">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title" id="exampleModalLabel">Usuarios</h5>
															<button type="button" class="close" data-dismiss="modal"
																aria-label="Close">
																<span aria-hidden="true">&times;</span>
															</button>
														</div>
														<div class="modal-body">
															Desea cambiar el estado de el Usuario?
																
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-secondary"
																data-dismiss="modal">Cerrar</button>
															<span th:if="${usuario.Estado == 'habilitado'}"><a
																th:href="@{/estadoUsuario(Doc_Usuario=${usuario.Doc_Usuario})}"
																type="button" class="btn btn-danger">deshabilitado</a></span> <span
																th:if="${usuario.Estado == 'deshabilitado'}"><a
																th:href="@{/estadoUsuario(Doc_Usuario=${usuario.Doc_Usuario})}"
																type="button" class="btn btn-warning">habilitado</a></span>
														</div>
													</div>
												</div>
											</div>
                                </tr>
                            </tbody>
                            </table>
                        </div>
                    </div>
                    </div>
                </div>
               
            </div> 
        </div>
    </div>
</div>
</div>

  <script src="../../JS/core/jquery.min.js"></script>
  <script src="../../JS/core/popper.min.js"></script>
  <script src="../../JS/core/bootstrap.min.js"></script>
  <script src="../../JS/plugins/perfect-scrollbar.jquery.min.js"></script>

  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>

  <script src="../../JS/plugins/chartjs.min.js"></script>

  <script src="../../JS/plugins/bootstrap-notify.js"></script>

  <script src="../../JS/paper-dashboard.min.js?v=2.0.0" type="text/javascript"></script>
 
  <script src="../../demo/demo.js"></script>

  <script src="../../GUARDA/JS/validaciones.js"></script>
  
  		<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
		<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
		<script src="funciones.js"></script>

    <!-- DATA TABLE -->
  <script src="../../DATATABLES/datatables.min.js" type="text/javascript"></script>

  <!-- BOTONES PARA LOS DATATABLES -->
  <script src="../../../DATATABLES/Buttons-2.2.2/js/buttons.dataTables.min.js"></script>
  <script src="../../../DATATABLES/JSZip-2.5.0/jszip.min.js"></script>
  <script src="../../../DATATABLES/pdfmake-0.1.36/pdfmake.min.js"></script>
  <script src="../../../DATATABLES/pdfmake-0.1.36/vfs_fonts.js"></script>
  <script src="../../../DATATABLES/Buttons-2.2.2/js/buttons.html5.min.js"></script>

  <script type="text/javascript" src="../../JS/datatables.js"></script>

</body>
</html>